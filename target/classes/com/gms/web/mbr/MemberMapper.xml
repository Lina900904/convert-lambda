<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gms.web.mbr.MemberMapper">
	<select id="get" resultType="com.gms.web.mbr.Member">
		SELECT
		ID,PASSWORD,SSN,NAME,GENDER,ROLL,TEAMID,AGE FROM MEMBER <!-- WHERE ID LIKE #{id} -->
		<where>
		<if test="id != null and id !='' ">ID LIKE #{id}
		</if>
		<if test="password != null and id !='' ">AND PASSWORD LIKE #{password}
		</if>
		</where>
	<!-- 	#{userid} -> 'hong'
		${userid} -> userid
		#은 ' '와 같다 -->
	</select>
	<select id="count" resultType="int">
	SELECT COUNT(*) FROM MEMBER
	<where>
		<if test="id !=null and id !=''">
		ID LIKE #{id}
		</if>
	</where>
	</select>
	
	<select id="login" resultType="string">
	SELECT COUNT(*) FROM MEMBER WHERE ID LIKE #{id} AND PASSWORD LIKE #{password};
	</select>

	<select id="exist" resultType="string">
	SELECT COUNT(*) FROM MEMBER WHERE ID LIKE #{id} ;

	</select>
	<insert id="post" parameterType="com.gms.web.mbr.Member">
		INSERT INTO MEMBER
		( ID, PASSWORD,
		SSN, NAME, GENDER, ROLL, TEAMID, AGE )
		VALUES ( #{id}, #{password} ,
		#{ssn} , #{name} , #{gender} , #{roll},
		#{teamId} , #{age})
	</insert>

	<delete id="delete" parameterType="com.gms.web.mbr.Member">
		DELETE FROM MEMBER
		 WHERE ID LIKE #{id} AND PASSWORD LIKE #{password}
	</delete>

	<update id="update" parameterType="com.gms.web.mbr.Member">
		UPDATE MEMBER
		SET PASSWORD = #{password},
		TEAMID = #{teamId},
		ROLL = #{roll}
		WHERE ID = #{id}
	</update>

</mapper>